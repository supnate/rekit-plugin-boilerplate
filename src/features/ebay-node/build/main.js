!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t){e.exports=rsdll},function(e,t,n){e.exports=n(0)(17)},function(e,t,n){e.exports=n(0)(180)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.a,t=arguments[1],n=void 0;return t.type,n=e,a.reduce(function(e,n){return n(e,t)},n)}t.a=r;var o=n(10),a=[]},function(e,t,n){"use strict";t.a={path:"plugin-node",childRoutes:[]}},function(e,t,n){"use strict";t.a={service:"#ec407a",services:"#ec407a","initial-state":"#ec407a","ui-module":"#f08036","ui-modules":"#f08036","folder-alias":"#8d6e63",normal:"#888888",route:"#26a69a",routes:"#26a69a",page:"#4CAF50",pages:"#4CAF50",layout:"#CDDC39",layouts:"#CDDC39",others:"#8d6e63",diagram:"#78909C",file:"#8d6e63",folder:"#8d6e63"}},function(e,t,n){e.exports=n(0)(0)},function(e,t,n){n(8),e.exports=n(43)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),o=n(4),a=n(3);window.__REKIT_PLUGINS.push(Object.assign({},r,{route:o.a,reducer:a.a,name:"ebay-node"}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);n.d(t,"reducer",function(){return r.a});var o=n(4);n.d(t,"route",function(){return o.a});var a=n(11);n.d(t,"app",function(){return a.a});var u=n(27);n.d(t,"menu",function(){return u.a});var i=n(30);n.d(t,"form",function(){return i.a});var c=n(31);n.d(t,"view",function(){return c.a});var l=n(40);n.d(t,"editor",function(){return l.a});var s=n(41);n.d(t,"dashboard",function(){return s.a});var d=n(42);n.d(t,"icons",function(){return d.a});var f=n(5);n.d(t,"colors",function(){return f.a})},function(e,t,n){"use strict";var r={};t.a=r},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=n(12),a=n.n(o),u=n(13),i=n.n(u),c=n(5),l=c.a,s={features:"rekit",feature:"book",service:"service",services:"service","initial-state":"database","ui-module":"appstore-o","ui-modules":"appstore-o",layout:"ui",layouts:"ui","folder-alias":"folder",folder:"folder",others:"folder",file:"file",routes:"sharealt",page:"page"},d=void 0,f=void 0,p=void 0,m=function e(t,n){var o=d(t);if(!o||"folder"!==o.type)return null;var a={"style.less":"Style","template.marko":"Template","index.marko":"Template","unit-tests":"Test",test:"Test","index.js":"Index","component.js":"Component","browser.json":"Browser"},u=["Diagram","Index","Component","Template","Style","Browser","Test"],c=function(e){var t=d(e).name;return a[t]||t},f=o.children.filter(function(e){return"file"===d(e).type&&!d(e).name.endsWith(".marko.js")}).map(function(e){return{key:c(e).toLowerCase(),target:e,name:c(e)}});f=i()(f,function(e){var t=u.indexOf(e.name);return-1!==t?t:u.length+1}),f.length&&(f[0].isDefault=!0),f.push({key:"_btn_add",name:"+"});var m={id:"v:"+o.id,name:o.name,type:n,icon:s[n],iconColor:l[n],navigable:!0,views:[{key:"diagram",name:"Diagram"}].concat(r(f)),parts:o.children.filter(function(e){return"file"===d(e).type})};return p(m.id,m),"ui-module"===n&&(m.children=o.children.filter(function(e){var t=d(e);return!("folder"!==t.type||!d(t.id+"/component.js")||!d(t.id+"/index.marko"))}).map(function(t){return e(t,n)}).map(function(e){return e.id})),m},v=function(e,t){return d(e)&&"folder"===d(e).type?d(e).children.map(function(e){return m(e,t)}).filter(function(e){return!!e}).map(function(e){return e.id}):[]},y=function(){return{id:"v:routes",name:"Routes",type:"routes",icon:s.routes,iconColor:l.routes,parts:["routes.json"],views:[{key:"rules",name:"Rules"},{key:"code",name:"Code",target:"routes.json"}]}},h=function(){return{id:"v:pages",name:"Pages",type:"pages",icon:s.page,iconColor:l.page,children:v("src/pages","page")}},g=function(){return{id:"v:ui-modules",name:"UI Modules",type:"ui-modules",icon:s["ui-modules"],iconColor:l["ui-modules"],children:[].concat(r(v("src/components","ui-module")),r(v("src/ui-modules","ui-module")))}},b=function(){return{id:"v:layouts",name:"Layouts",type:"layouts",icon:s.layout,iconColor:l.layout,children:v("src/layouts","layout")}},k=function(){return{id:"v:misc",type:"services",name:"Services",icon:s.services,iconColor:l.services,children:v("src/services","service")}},x=function(){return{id:"v:others",type:"folder-alias",name:"Others",target:"src",icon:s.others,iconColor:l.others,children:a()(f,"src/layouts","src/pages","src/services","src/ui-modules")}};t.a={processProjectData:function(e){d=function(t){return e.elementById[t]},p=function(t,n){return e.elementById[t]=n},f=e.elements.slice();var t=y(),n=h(),r=g(),o=b(),a=k(),u=x();t.count=e.routes.length,n.count=n.children.length,r.count=r.children.length,o.count=o.children.length,a.count=a.children.length;var i=[t,n,r,o,a,u];i.forEach(function(t){return e.elementById[t.id]=t}),e.elements=i.map(function(e){return e.id}),Object.values(e.elementById).forEach(function(e){switch(e.parts&&e.parts.forEach(function(t){d(t)&&(d(t).owner=e.id)}),e.type){case"ui-module":case"service":case"layoutt":case"file":case"routes":e.navigable=!0}})}}},function(e,t,n){e.exports=n(0)(761)},function(e,t,n){var r=n(14),o=n(15),a=n(25),u=n(26),i=a(function(e,t){if(null==e)return[];var n=t.length;return n>1&&u(e,t[0],t[1])?t=[]:n>2&&u(t[0],t[1],t[2])&&(t=[t[0]]),o(e,r(t,1),[])});e.exports=i},function(e,t,n){e.exports=n(0)(827)},function(e,t,n){function r(e,t,n){var r=-1;t=o(t.length?t:[s],c(a));var d=u(e,function(e,n,a){return{criteria:o(t,function(t){return t(e)}),index:++r,value:e}});return i(d,function(e,t){return l(e,t,n)})}var o=n(16),a=n(17),u=n(18),i=n(19),c=n(20),l=n(21),s=n(24);e.exports=r},function(e,t,n){e.exports=n(0)(198)},function(e,t,n){e.exports=n(0)(114)},function(e,t,n){e.exports=n(0)(2398)},function(e,t){function n(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}e.exports=n},function(e,t,n){e.exports=n(0)(203)},function(e,t,n){function r(e,t,n){for(var r=-1,a=e.criteria,u=t.criteria,i=a.length,c=n.length;++r<i;){var l=o(a[r],u[r]);if(l){if(r>=c)return l;return l*("desc"==n[r]?-1:1)}}return e.index-t.index}var o=n(22);e.exports=r},function(e,t,n){function r(e,t){if(e!==t){var n=void 0!==e,r=null===e,a=e===e,u=o(e),i=void 0!==t,c=null===t,l=t===t,s=o(t);if(!c&&!s&&!u&&e>t||u&&i&&l&&!c&&!s||r&&i&&l||!n&&l||!a)return 1;if(!r&&!u&&!s&&e<t||s&&n&&a&&!r&&!u||c&&n&&a||!i&&a||!l)return-1}return 0}var o=n(23);e.exports=r},function(e,t,n){e.exports=n(0)(255)},function(e,t,n){e.exports=n(0)(266)},function(e,t,n){e.exports=n(0)(211)},function(e,t,n){e.exports=n(0)(1588)},function(e,t,n){"use strict";var r=n(28),o=n.n(r),a=n(1),u=n(2),i=n(29),c=function(){return u.default.dispatch(i.showDialog.apply(i,arguments))},l=function(e){return u.default.dispatch(i.execCoreCommand(e))},s=function(e){return u.default.getState().home.elementById[e]},d={newFile:{name:"New File",key:"new-file"},addPage:{name:"Add Page",key:"add-page"},addUiModule:{name:"Add UI Module",key:"add-ui-module"},addLayout:{name:"Add Layout",key:"add-layout"},addService:{name:"Add Service",key:"add-service"},del:{name:"Delete",key:"del-element"},move:{name:"Move",key:"move-element"},rename:{name:"Rename",key:"move-element"}};t.a={contextMenu:{fillMenuItems:function(e,t){var n=t.elementId,r=s(n);if(r)switch(r.type){case"pages":e.push(d.addPage);break;case"page":e.push(d.newFile,d.rename,d.del);break;case"ui-modules":e.push(d.addUiModule);break;case"ui-module":e.push(d.newFile,d.addUiModule,d.rename,d.del);break;case"layouts":e.push(d.addLayout);break;case"layout":e.push(d.newFile,d.rename,d.del);break;case"services":e.push(d.addService);break;case"service":e.push(d.newFile,d.rename,d.del)}},handleMenuClick:function(e){var t=e.elementId,n=e.key,r=s(t);switch(n){case"add-page":c("core.element.add.page","Add Page",{action:"add",targetId:t,elementType:"page"});break;case"add-ui-module":c("core.element.add.uiModule","Add UI Module",{action:"add",targetId:t,elementType:"ui-module"});break;case"add-layout":c("core.element.add.layout","Add Layout",{action:"add",targetId:t,elementType:"layout"});break;case"add-service":c("core.element.add.service","Add Service",{action:"add",targetId:t,elementType:"service"});break;case"move-element":c("core.element.move","Rename",{action:"move",targetId:t,elementType:r.type});break;case"move":c("core.element.move.component","Move",{action:"move",targetId:t});break;case"del-element":var u=s(t);if(!u)return void a.Modal.error({title:"No element to delete",content:o()(u.type)+" not found: "+t});a.Modal.confirm({title:"Are you sure to delete the "+u.type+"?",onOk:function(){l({commandName:"remove",type:u.type,name:u.name}).then(function(){a.message.success("Delete "+u.type+" success.")},function(e){a.Modal.error({title:"Failed to delete the "+u.type,content:e.toString()})})}})}}}}},function(e,t,n){e.exports=n(0)(759)},function(e,t,n){e.exports=n(0)(290)},function(e,t,n){"use strict";var r=n(6),o=n.n(r),a=n(1),u=n(2),i=a.Select.Option,c=function(e){return e.map(function(e){return o.a.createElement(i,{key:e.value||e.name},e.name)})},l=function(e){return u.default.getState().home.elementById[e]},s=function(){var e=l("v:layouts").children.map(l).filter(function(e){return"layout"===e.type}).map(function(e){return{name:e.name,value:e.name}});return e.push({name:"no layout",value:"_no_layout"}),e},d=function(e){return{key:"layout",label:"Layout",widget:a.Select,required:!0,children:c(s()),initialValue:s()[0].value}},f=function(){return{key:"name",label:"Name",widget:a.Input,autoFocus:!0,required:!0}};t.a={fillMeta:function(e){switch(e.formId){case"core.element.add.page":e.meta.elements.push(d(),f(),{key:"urlPath",label:"Url Path",widget:a.Input,required:!0,tooltip:"The URL path to access the page."},{key:"locale",label:"Locale",widget:a.Checkbox,initialValue:!1,tooltip:"Whether to create a locale file for the page."});break;case"core.element.add.uiModule":case"core.element.add.layout":e.meta.elements.push(f());break;case"core.element.add.service":e.meta.elements.push(f(),{key:"urlPath",label:"Url Path",widget:a.Input,tooltip:"The URL path to access the service."});break;case"core.element.move":e.meta.elements.push(f())}},processValues:function(e){var t=e.formId,n=e.context;switch(t){case"core.element.add.uiModule":var r=l(n.targetId);return"ui-module"===r.type&&(e.name=r.id.replace("v:src/ui-modules/","")+"/"+e.name),e;case"core.element.move":var o=l(n.targetId);return e.source=o.name,e.target=e.name,e}return e}}},function(e,t,n){"use strict";var r=n(32);t.a={getView:function(e,t){return"routes"===e.type&&"rules"===t?r.a:null}}},function(e,t,n){"use strict";var r=n(33);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return{routes:e.home.routes,elementById:e.home.elementById}}var i=n(6),c=n.n(i),l=n(34),s=n.n(l),d=n(35),f=n(1),p=n(36),m=n(37),v=(n(38),n(39),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),y=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),v(t,[{key:"getColumns",value:function(){var e=this;return[{dataIndex:"method",title:"Method",width:80},{dataIndex:"path",title:"Path",render:function(e){return c.a.createElement("a",{href:"http://localhost:8080"+e,target:"_blank"},e)}},{dataIndex:"target",title:"Target",width:360,render:function(t){var n=e.props.elementById["v:"+t];return n?c.a.createElement(p.Link,{to:"/element/"+encodeURIComponent(n.id)},c.a.createElement(m.SvgIcon,{type:n.icon,fill:n.iconColor})," ",n.name):"Target not found: "+t}}]}},{key:"render",value:function(){return c.a.createElement("div",{className:"plugin-node-routes-view"},c.a.createElement(f.Table,{columns:this.getColumns(),dataSource:this.props.routes,size:"small",pagination:!1,rowKey:"path"}))}}]),t}(i.Component);y.propTypes={elementById:s.a.object.isRequired,routes:s.a.array.isRequired},t.a=Object(d.connect)(u)(y)},function(e,t,n){e.exports=n(0)(1)},function(e,t,n){e.exports=n(0)(11)},function(e,t,n){e.exports=n(0)(133)},function(e,t,n){e.exports=n(0)(63)},function(e,t,n){e.exports=n(0)(499)},function(e,t,n){e.exports=n(0)(2391)},function(e,t,n){"use strict";t.a={config:function(e,t){e.onDidChangeModel(function(n){n.newModelUrl.path.endsWith(".marko")&&"html"!==e.getModel().getModeId()&&t.editor.setModelLanguage(e.getModel(),"html")})},configMonaco:function(e){}}},function(e,t,n){"use strict";var r=n(2);t.a={badges:[{type:"route",name:"Routes",count:function(){return r.default.getState().home.routes.length}},{type:"page",name:"Pages"},{type:"ui-module",name:"UI Modules"},{type:"layout",name:"Layouts"},{type:"service",name:"Services"}]}},function(e,t,n){"use strict";t.a={service:"service",services:"service","initial-state":"database","ui-module":"appstore-o","ui-modules":"appstore-o",layout:"ui",layouts:"ui","folder-alias":"folder",folder:"folder",others:"folder",file:"file",route:"sharealt",routes:"sharealt",page:"page"}},function(e,t,n){var r=n(44);"string"===typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0};o.transform=void 0;n(45)(r,o);r.locals&&(e.exports=r.locals)},function(e,t){throw new Error("Module build failed: \n\n    a {\n      color: @primary-color;\n           ^\nVariable @primary-color is undefined\n      in /Users/pwang7/workspace/rekit-studio/src/features/plugin-node/RoutesView.less (line 26, column 13)")},function(e,t,n){e.exports=n(0)(941)}]);
//# sourceMappingURL=main.js.map